

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Common Questions and Issues &mdash; PCDS  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Recommended Resources" href="resources.html" />
    <link rel="prev" title="PCDS Python Style Guide" href="style.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PCDS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="style.html">PCDS Python Style Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Common Questions and Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ipython-and-matplotlib">IPython and Matplotlib</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Recommended Resources</a></li>
</ul>
<p class="caption"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab">SLAC-wide GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/pcdshub">PCDS GitHub</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PCDS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Common Questions and Issues</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/faq.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="common-questions-and-issues">
<h1>Common Questions and Issues<a class="headerlink" href="#common-questions-and-issues" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#ipython-and-matplotlib" id="id1">IPython and Matplotlib</a></p></li>
</ul>
</div>
<div class="section" id="ipython-and-matplotlib">
<h2><a class="toc-backref" href="#id1">IPython and Matplotlib</a><a class="headerlink" href="#ipython-and-matplotlib" title="Permalink to this headline">¶</a></h2>
<p>Many of the applications launched in an <code class="docutils literal notranslate"><span class="pre">IPython</span></code> session will try and create
graphs using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>. This works well in principle, but unfortunately
requires a little bit of configuration ahead of time. Even more unfortunate is
the fact that issues rarely have tracebacks or error messages to follow.</p>
<p>If you are having troubles creating plots on a machine that is not your own,
the first thing to check is that you have X11 forwarding enabled. The easiest
way to do this is make sure you always log in with the <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">-X</span></code> or <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">-Y</span></code>
options. You can also check the environment variable <code class="docutils literal notranslate"><span class="pre">$DISPLAY</span></code> which should
return a non-empty value:</p>
<p>In bash:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="nv">$DISPLAY</span>
</pre></div>
</div>
<p>or in the <code class="docutils literal notranslate"><span class="pre">IPython</span></code> shell itself:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;DISPLAY&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>If that isn’t the issue, you should check that you have configured
<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> to use <code class="docutils literal notranslate"><span class="pre">Qt</span></code> as the backend for all generated plots. This is
done automatically by the <code class="docutils literal notranslate"><span class="pre">hutch-python</span></code> start-up scripts, but if you are
entering an <code class="docutils literal notranslate"><span class="pre">IPython</span></code> session of your own, you should configure the backend
by typing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">qt</span>
</pre></div>
</div>
<p>Finally, if you are seeing the created plot but it doesn’t update during your
<code class="docutils literal notranslate"><span class="pre">Bluesky</span></code> scan, you need to configure a kicker. This is installed in the
<code class="docutils literal notranslate"><span class="pre">RunEngine</span></code> event loop that updates your plots when it isn’t busy executing
your scan. Once again, this is configured for you in the <code class="docutils literal notranslate"><span class="pre">hutch_python</span></code>
<code class="docutils literal notranslate"><span class="pre">IPython</span></code> shell, but if you are using a basic <code class="docutils literal notranslate"><span class="pre">IPython</span></code> shell, this is an
important step.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bluesky.utils</span> <span class="kn">import</span> <span class="n">install_kicker</span>
<span class="n">install_kicker</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="resources.html" class="btn btn-neutral float-right" title="Recommended Resources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="style.html" class="btn btn-neutral float-left" title="PCDS Python Style Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, SLAC National Accelarator Laboratory

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>